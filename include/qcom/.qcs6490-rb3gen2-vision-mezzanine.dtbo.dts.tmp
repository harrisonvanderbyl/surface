# 0 "arch/arm64/boot/dts/qcom/qcs6490-rb3gen2-vision-mezzanine.dtso"
# 0 "<built-in>"
# 0 "<command-line>"
# 1 "arch/arm64/boot/dts/qcom/qcs6490-rb3gen2-vision-mezzanine.dtso"
# 10 "arch/arm64/boot/dts/qcom/qcs6490-rb3gen2-vision-mezzanine.dtso"
/dts-v1/;
/plugin/;

# 1 "./scripts/dtc/include-prefixes/dt-bindings/clock/qcom,camcc-sc7280.h" 1
# 14 "arch/arm64/boot/dts/qcom/qcs6490-rb3gen2-vision-mezzanine.dtso" 2
# 1 "./scripts/dtc/include-prefixes/dt-bindings/gpio/gpio.h" 1
# 15 "arch/arm64/boot/dts/qcom/qcs6490-rb3gen2-vision-mezzanine.dtso" 2

&camss {
 vdda-phy-supply = <&vreg_l10c_0p88>;
 vdda-pll-supply = <&vreg_l6b_1p2>;

 status = "okay";

 ports {
  #address-cells = <1>;
  #size-cells = <0>;


  port@3 {
   reg = <3>;

   csiphy3_ep: endpoint {
    clock-lanes = <7>;
    data-lanes = <0 1 2 3>;
    remote-endpoint = <&imx577_ep>;
   };
  };
 };
};

&cci1 {
 status = "okay";
};

&cci1_i2c1 {
 #address-cells = <1>;
 #size-cells = <0>;

 camera@1a {
  compatible = "sony,imx577";

  reg = <0x1a>;

  reset-gpios = <&tlmm 78 1>;
  pinctrl-names = "default", "suspend";
  pinctrl-0 = <&cam2_default>;
  pinctrl-1 = <&cam2_suspend>;

  clocks = <&camcc 98>;
  assigned-clocks = <&camcc 98>;
  assigned-clock-rates = <24000000>;

  dovdd-supply = <&vreg_l18b_1p8>;
  avdd-supply = <&vph_pwr>;
  dvdd-supply = <&vph_pwr>;

  port {
   imx577_ep: endpoint {
    link-frequencies = /bits/ 64 <600000000>;
    data-lanes = <1 2 3 4>;
    remote-endpoint = <&csiphy3_ep>;
   };
  };
 };
};

&tlmm {
 cam2_default: cam2-default-state {
  pins = "gpio67";
  function = "cam_mclk";
  drive-strength = <2>;
  bias-disable;
 };

 cam2_suspend: cam2-suspend-state {
  pins = "gpio67";
  function = "cam_mclk";
  drive-strength = <2>;
  bias-pull-down;
 };
};
